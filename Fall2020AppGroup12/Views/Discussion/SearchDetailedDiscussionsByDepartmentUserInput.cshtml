@model Fall2020AppGroup12.Models.ViewModels.SearchForDetailedDiscussionsInDepartmentViewModel
@{
    ViewData["Title"] = "SearchDetailedDiscussionsByDepartmentUserInput";
}

<h4>Choose a Department to display Discussions along with all their Responses and Comments.</h4>
<h6>All selections are optional</h6>

<form asp-controller="Discussion" asp-action="SearchDetailedDiscussionsByDepartmentUserInput" method="post">

    <input asp-for="UserFirstVisit" value="No" type="hidden" />

    <div class="form-group">
        <label>Choose Department</label>
        @* The view model comes into play in the following line/step *@
        <select asp-for="DepartmentID" asp-items="ViewBag.AllDepartments" class="form-control">
            <option value="">None</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Search For Discussions</button>


</form>



@if (Model.DiscussionResultList != null)
{
    @if (Model.DiscussionResultList.Any())
    {
        <h1>Search Results</h1>
        <partial name="DetailedDiscussionsPartialView" model="Model" /> 
    }
    else
    {
        <h4> No discussions meet your search criteria.</h4>
    }
}